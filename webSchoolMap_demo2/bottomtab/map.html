<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="formate-dection" content="telephone=yes"> <!-- 打电话配置 -->
		<meta http-equiv="Access-Control-Allow-Origin" content="">

		<meta http-equiv="content-security-policy">

		<link rel="stylesheet" href="../css/mui.min.css">

		<link href="../css/mui.indexedlist.css" rel="stylesheet" />
		<style type="text/css">
			.mui-table-view.mui-grid-9 .mui-table-view-cell.mui-active {
				/*替换成自己的颜色*/
				background-color: #fff;
			}
			* {
				touch-action: none;
			}
			.map-container {
				min-width: 600px;
				min-height: 580px;
			}
			
			.list-container {
				height: 0 !important;
			}
		</style>
		<script charset="utf-8" src="https://map.qq.com/api/js?v=2.exp&key=BQJBZ-TIYCG-UUNQY-IQWQU-OWBHS-YBFCI&libraries=convertor"></script>

	</head>

	<body>

		<div class="mui-content">
			<div id='list' class="mui-indexed-list" style="height: 0;">
				<header class="mui-bar mui-bar-nav">
					<div class="mui-indexed-list-search mui-input-row mui-search " id="map-header-search">
						<input type="search" class="mui-input-clear mui-indexed-list-search-input " onkeyup="enterSearch(event)" name="searchMap" id="searchMap" placeholder="热门搜索">
					</div>
					<div class="mui-hidden" id="detailMap">
						<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left "></a>
						<h1 class="mui-title">详细地点信息</h1>
					</div>
				</header>
				<div class="mui-content">
					<div id="searchTipBox" class="mui-hidden">
						<div class="mui-indexed-list-bar">
							<a>A</a>
							<a>B</a>
							<a>C</a>
							<a>D</a>
							<a>E</a>
							<a>F</a>
							<a>G</a>
							<a>H</a>
							<a>I</a>
							<a>J</a>
							<a>K</a>
							<a>L</a>
							<a>M</a>
							<a>N</a>
							<a>O</a>
							<a>P</a>
							<a>Q</a>
							<a>R</a>
							<a>S</a>
							<a>T</a>
							<a>U</a>
							<a>V</a>
							<a>W</a>
							<a>X</a>
							<a>Y</a>
							<a>Z</a>
						</div>
						<div class="mui-indexed-list-alert"></div>
						<div class="mui-indexed-list-inner">
							<div class="mui-indexed-list-empty-alert">没有数据</div>
							<ul class="mui-table-view search-table-list " id="search-tip-list">
								<li data-group="Z" class="mui-table-view-divider mui-indexed-list-group">Z</li>
							</ul>
						</div>
					</div>
				</div>

			</div>
			<div class="map-container" id="map-container"></div>
		</div>

	</body>

	<script src="../js/mui.min.js"></script>
	<script src="../js/mui.indexedlist.js"></script>
	<script type="text/javascript" charset="utf-8">
		mui.init({
			swipeBack: true, //启用右滑关闭功能，

		});

		mui.ready(function() {
			/*/var header = document.querySelector('header.mui-bar');
			var list = document.getElementById('list');
			//calc hieght
			list.style.height = (document.body.offsetHeight - header.offsetHeight) + 'px';
			//list.style.maxHeight = '300px';
			console.log(document.body.offsetHeight - header.offsetHeight)
			//create
			window.indexedList = new mui.IndexedList(list);*/

		});

		let nativeWebview, imm, InputMethodManager;
		let initNativeObjects = function() {
			if(mui.os.android) {
				let main = plus.android.runtimeMainActivity();
				let Context = plus.android.importClass("android.content.Context");
				InputMethodManager = plus.android.importClass("android.view.inputmethod.InputMethodManager");
				imm = main.getSystemService(Context.INPUT_METHOD_SERVICE);
			} else {
				nativeWebview = plus.webview.currentWebview().nativeInstanceObject();
			}
		};
		let showSoftInput = function() {
			if(mui.os.android) {
				imm.toggleSoftInput(0, InputMethodManager.SHOW_FORCED);
			} else {
				nativeWebview.plusCallMethod({
					"setKeyboardDisplayRequiresUserAction": false
				});
			}
			setTimeout(function() {
				var inputElem = document.querySelector('input');
				inputElem.focus();
				inputElem.parentNode.classList.add('mui-active'); //第一个是search，加上激活样式
			}, 200);
		};
		mui.plusReady(function() {
			//initNativeObjects();
			//showSoftInput();

		});
	</script>
	<script src="../js/map.js"></script>
	<script type="text/javascript">
		//mark data

		let tableData = {
			status: 200,
			msg: "success",
			data: [{
					type: "教学楼",
					index: 0,
					detail: [{
							name: "1教",
							longitude: 23.631771533674556,
							lalitude: 113.67667973041534,
							phone: 000000
						},
						{
							name: "2教",
							longitude: 23.631314478695728,
							lalitude: 113.67692112922668,
							phone: 000000
						},
						{
							name: "3教",
							longitude: 23.630940970179182,
							lalitude: 113.6770498752594,
							phone: 000000
						},
						{
							name: "4教",
							longitude: 23.63058711909593,
							lalitude: 113.67732882499695,
							phone: 000000
						},
						{
							name: "5教",
							longitude: 23.634096100285504,
							lalitude: 113.6781495809555,
							phone: 000000
						},
						{
							name: "6教",
							longitude: 23.63378157365691,
							lalitude: 113.67839634402117,
							phone: 000000
						},
						{
							name: "7教",
							longitude: 23.633393328640253,
							lalitude: 113.67858409881592,
							phone: 000000
						},
						{
							name: "8教",
							longitude: 23.63433199466739,
							lalitude: 113.67978572845459,
							phone: 000000
						},
						{
							name: "9教",
							longitude: 23.63392900791833,
							lalitude: 113.67992520332336,
							phone: 000000
						},
						{
							name: "10教",
							longitude: 23.6334965329542,
							lalitude: 113.6800217628479,
							phone: 000000
						},
						{
							name: "11教",
							longitude: 23.63313286001958,
							lalitude: 113.67997884754459,
							phone: 000000
						}
					]
				},
				{
					type: "常用",
					index: 1,
					detail: [{
							name: "图书馆",
							longitude: 23.63235636513804,
							lalitude: 113.6791205406189,
							phone: 123456789
						},
						{
							name: "医务室",
							longitude: 23.635884956693065,
							lalitude: 113.67944240570068,
							phone: 233333333
						},
						{
							name: "东区综合楼",
							longitude: 23.63186491015195,
							lalitude: 113.67989301681519,
							phone: 233333333
						},
						{
							name: "招待所",
							longitude: 23.630906568066354,
							lalitude: 113.6753761768341,
							phone: 233333333
						},
						{
							name: "车站",
							longitude: 23.63502984713567,
							lalitude: 113.67726445198059,
							phone: 233333333
						},
						{
							name: "西综",
							longitude: 23.628896483877636,
							lalitude: 113.67798328399658,
							phone: 233333333
						},
						{
							name: "快递",
							longitude: 23.63145208673919,
							lalitude: 113.6797642707824,
							phone: 223333333
						},
						{
							name: "行政A1",
							longitude: 23.633580079665364,
							lalitude: 113.67671728134155,
							phone: 223333333
						},
						{
							name: "行政A2",
							longitude: 23.634464685454745,
							lalitude: 113.67774724960327,
							phone: 223333333
						},
					]
				},
				{
					type: "饭堂",
					index: 2,
					detail: [{
							name: "西饭",
							longitude: 23.631746960866803,
							lalitude: 113.67583751678467,
							phone: 233333333
						},
						{
							name: "中饭",
							longitude: 23.634798868008723,
							lalitude: 113.67929220199585,
							phone: 233333333
						},
						{
							name: "东饭",
							longitude: 23.634223876693003,
							lalitude: 113.68221044540405,
							phone: 233333333
						}

					]
				},
				{
					type: "操场",
					index: 3,
					detail: [{
							name: "西操",
							longitude: 23.63218927070072,
							lalitude: 113.6749416589737,
							phone: 333333
						},
						{
							name: "篮球场",
							longitude: 23.633545678208378,
							lalitude: 113.67575168609619,
							phone: 333333
						},
						{
							name: "西体",
							longitude: 23.633148,
							lalitude: 113.675972,
							phone: 333333
						},
						{
							name: "东操",
							longitude: 23.632228587058094,
							lalitude: 113.68125557899475,
							phone: 333333
						},
						{
							name: "东体",
							longitude: 23.633378585288757,
							lalitude: 113.68133068084717,
							phone: 333333
						},
						{
							name: "篮球场",
							longitude: 23.6321696125176,
							lalitude: 113.68195295333862,
							phone: 333333
						},
						{
							name: "排球场",
							longitude: 23.634209133285033,
							lalitude: 113.67607355117798,
							phone: 333333
						}
					]
				},
				{
					type: "西区宿舍",
					index: 4,
					detail: [{
							name: "西1",
							longitude: 23.630562546065935,
							lalitude: 113.67554247379303,
							phone: 123456789
						},
						{
							name: "西2",
							longitude: 23.62999245047551,
							lalitude: 113.67580533027649,
							phone: 233333333
						},
						{
							name: "西3",
							longitude: 23.62965334071436,
							lalitude: 113.67596089872677,
							phone: 233333333
						},
						{
							name: "西4",
							longitude: 23.629324059381368,
							lalitude: 113.67613256010372,
							phone: 233333333
						},
						{
							name: "西5",
							longitude: 23.62901443588016,
							lalitude: 113.67631495031674,
							phone: 233333333
						},
						{
							name: "西6",
							longitude: 23.63086233671693,
							lalitude: 113.67632567882538,
							phone: 233333333
						},
						{
							name: "西7",
							longitude: 23.630405278564737,
							lalitude: 113.67654025554657,
							phone: 233333333
						},
						{
							name: "西8",
							longitude: 23.629958048075984,
							lalitude: 113.67673873884996,
							phone: 233333333
						},
						{
							name: "西9",
							longitude: 23.629496072121288,
							lalitude: 113.67695331573486,
							phone: 233333333
						},
						{
							name: "西10",
							longitude: 23.629029179873008,
							lalitude: 113.67716252803802,
							phone: 233333333
						},
						{
							name: "西11",
							longitude: 23.62858685936556,
							lalitude: 113.67736101150513,
							phone: 233333333
						}
					]
				},
				{
					type: "东区宿舍",
					index: 5,
					detail: [{
							name: "东12",
							longitude: 23.635196937947985,
							lalitude: 113.67982864383976,
							phone: 123456789
						},
						{
							name: "东13",
							longitude: 23.635010189379024,
							lalitude: 113.68040800098697,
							phone: 233333333
						},
						{
							name: "东14",
							longitude: 23.63471532267516,
							lalitude: 113.68078351024906,
							phone: 233333333
						},
						{
							name: "东15",
							longitude: 23.635855470249577,
							lalitude: 113.68050456047058,
							phone: 233333333
						},
						{
							name: "东16",
							longitude: 23.635639236127737,
							lalitude: 113.68112683296204,
							phone: 233333333
						},
						{
							name: "东17",
							longitude: 23.635305054818897,
							lalitude: 113.68145942687988,
							phone: 233333333
						},
						{
							name: "东18",
							longitude: 23.634911900551526,
							lalitude: 113.68180274955193,
							phone: 233333333
						},
						{
							name: "东19",
							longitude: 23.633447388281475,
							lalitude: 113.68257522566637,
							phone: 233333333
						},
						{
							name: "东20",
							longitude: 23.633142689039207,
							lalitude: 113.6826717851909,
							phone: 233333333
						},
						{
							name: "东21",
							longitude: 23.632852732650235,
							lalitude: 113.68270397178094,
							phone: 233333333
						},
						{
							name: "东22",
							longitude: 23.632523459362137,
							lalitude: 113.68284344673157,
							phone: 233333333
						},
						{
							name: "东23",
							longitude: 23.63217944160953,
							lalitude: 113.68301510810852,
							phone: 233333333
						},
						{
							name: "东24",
							longitude: 23.63235636513804,
							lalitude: 113.68387341499329,
							phone: 233333333
						},
						{
							name: "东25",
							longitude: 23.63183542295311,
							lalitude: 113.68336915969849,
							phone: 233333333
						},
						{
							name: "东26",
							longitude: 23.63657297182249,
							lalitude: 113.68143796920776,
							phone: 233333333
						},
						{
							name: "东27",
							longitude: 23.636179820762706,
							lalitude: 113.68184566497803,
							phone: 233333333
						},
						{
							name: "东28",
							longitude: 23.635816154981267,
							lalitude: 113.68215680106005,
							phone: 233333333
						},
						{
							name: "东29",
							longitude: 23.634676007064467,
							lalitude: 113.68276834487915,
							phone: 233333333
						},
						{
							name: "东30",
							longitude: 23.63434182389695,
							lalitude: 113.68292927742004,
							phone: 233333333
						},
						{
							name: "东31",
							longitude: 23.634037126736125,
							lalitude: 113.68309020996094,
							phone: 233333333
						},
						{
							name: "东32",
							longitude: 23.6337520868147,
							lalitude: 113.68336915969849,
							phone: 233333333
						},
						{
							name: "东33",
							longitude: 23.63340807229006,
							lalitude: 113.68366956710815,
							phone: 233333333
						},
						{
							name: "东34",
							longitude: 23.633093543933725,
							lalitude: 113.68398070335388,
							phone: 233333333
						},
						{
							name: "东35",
							longitude: 23.632798672763496,
							lalitude: 113.68440985646885,
							phone: 233333333
						}
					]
				},
				{
					type: "实验",
					index: 6,
					detail: [{
							name: "1实",
							longitude: 23.63134396616185,
							lalitude: 113.67804765701294,
							phone: 000000
						},
						{
							name: "2实",
							longitude: 23.630970457766917,
							lalitude: 113.67829442024231,
							phone: 000000
						},
						{
							name: "3实",
							longitude: 23.63058711909593,
							lalitude: 113.67846608161926,
							phone: 000000
						},
						{
							name: "4实",
							longitude: 23.63270038242583,
							lalitude: 113.67982864383976,
							phone: 000000
						}
					]
				},
				{
				
					type: "聚贤楼",
					index:7,
					detail: [{
							name: "聚贤楼1号",
							longitude: 23.630154633094325,
							lalitude: 113.67835879325867,
							phone: 123456789
						},
						{
							name: "聚贤楼2号",
							longitude: 23.629840096923328,
							lalitude: 113.67833733558655,
							phone: 233333333
						},
						{
							name: "聚贤楼3号",
							longitude: 23.629446925647226,
							lalitude: 113.67830514907837,
							phone: 233333333
						},
						{
							name: "聚贤楼4号",
							longitude: 23.63596358657667,
							lalitude: 113.6799144744873,
							phone: 123456789
						},
						{
							name: "聚贤楼5号",
							longitude: 23.636238793496933,
							lalitude: 113.68028998379032,
							phone: 123456789
						},
						{
							name: "聚贤楼6号",
							longitude: 23.63653365676963,
							lalitude: 113.68067622184753,
							phone: 123456789
						},
						{
							name: "聚贤楼7号",
							longitude: 23.636897320558006,
							lalitude: 113.68111610412598,
							phone: 123456789
						},
						{
							name: "聚贤楼8号",
							longitude: 23.635324713131173,
							lalitude: 113.68248939497789,
							phone: 123456789
						},
						{
							name: "聚贤楼9号",
							longitude: 23.63096062858425,
							lalitude: 113.6811912059784,
							phone: 123456789
						},
						{
							name: "聚贤楼10号",
							longitude: 23.63066575276096,
							lalitude: 113.68129849433899,
							phone: 123456789
						},
						{
							name: "聚贤楼11号",
							longitude: 23.631127724589373,
							lalitude: 113.6819851398468,
							phone: 123456789
						}
					]
				},
				{
					type: "其它",
					index: 8,
					detail: [{
							name: "7-11",
							longitude: 23.631393111923977,
							lalitude: 113.67613792419434,
							phone: 233333333
						},
						{
							name: "后门超市",
							longitude: 23.628414845431454,
							lalitude: 113.67830514907837,
							phone: 123456789
						},
						{
							name: "南芳湖",
							longitude: 23.629024265208912,
							lalitude: 113.67936730384827,
							phone: 233333333
						},
						{
							name: "音乐楼",
							longitude: 23.6353541996942,
							lalitude: 113.67875039561113,
							phone: 233333333
						},
						{
							name: "员工宿舍",
							longitude: 23.6314324285204,
							lalitude: 113.68268251419067,
							phone: 233333333
						},
						{
							name: "专家楼",
							longitude: 23.630906568066354,
							lalitude: 113.6753761768341,
							phone: 233333333
						}
					]
				}

			]
		}

		let tableData16 = {
			status: 200,
			msg: "success",
			data: [{
					type: "教学楼",
					index: 0,
					detail: [{
							name: "1教",
							longitude: 23.631771533674556,
							lalitude: 113.67667973041534,
							phone: 000000
						},
						{
							name: "2教",
							longitude: 23.631314478695728,
							lalitude: 113.67692112922668,
							phone: 000000
						},
						{
							name: "3教",
							longitude: 23.630940970179182,
							lalitude: 113.6770498752594,
							phone: 000000
						},
						{
							name: "4教",
							longitude: 23.63058711909593,
							lalitude: 113.67732882499695,
							phone: 000000
						},
						{
							name: "5教",
							longitude: 23.634096100285504,
							lalitude: 113.6781495809555,
							phone: 000000
						},
						{
							name: "6教",
							longitude: 23.63378157365691,
							lalitude: 113.67839634402117,
							phone: 000000
						},
						{
							name: "7教",
							longitude: 23.633393328640253,
							lalitude: 113.67858409881592,
							phone: 000000
						},
						{
							name: "8教",
							longitude: 23.63433199466739,
							lalitude: 113.67978572845459,
							phone: 000000
						},
						{
							name: "9教",
							longitude: 23.63392900791833,
							lalitude: 113.67992520332336,
							phone: 000000
						},
						{
							name: "10教",
							longitude: 23.6334965329542,
							lalitude: 113.6800217628479,
							phone: 000000
						},
						{
							name: "11教",
							longitude: 23.63313286001958,
							lalitude: 113.67997884754459,
							phone: 000000
						}
					]
				},
				{
					type: "常用",
					index: 1,
					detail: [{
							name: "图书馆",
							longitude: 23.63235636513804,
							lalitude: 113.6791205406189,
							phone: 123456789
						},
						{
							name: "医务室",
							longitude: 23.635884956693065,
							lalitude: 113.67944240570068,
							phone: 233333333
						},
						{
							name: "东区综合楼",
							longitude: 23.63186491015195,
							lalitude: 113.67989301681519,
							phone: 233333333
						},
						{
							name: "招待所",
							longitude: 23.630906568066354,
							lalitude: 113.6753761768341,
							phone: 233333333
						},
						{
							name: "车站",
							longitude: 23.63502984713567,
							lalitude: 113.67726445198059,
							phone: 233333333
						},
						{
							name: "西综",
							longitude: 23.628896483877636,
							lalitude: 113.67798328399658,
							phone: 233333333
						},
						{
							name: "快递",
							longitude: 23.63145208673919,
							lalitude: 113.6797642707824,
							phone: 223333333
						},
						{
							name: "行政A1",
							longitude: 23.633580079665364,
							lalitude: 113.67671728134155,
							phone: 223333333
						},
						{
							name: "行政A2",
							longitude: 23.634464685454745,
							lalitude: 113.67774724960327,
							phone: 223333333
						},
					]
				},
				{
					type: "饭堂",
					index: 2,
					detail: [{
							name: "西饭",
							longitude: 23.631746960866803,
							lalitude: 113.67583751678467,
							phone: 233333333
						},
						{
							name: "中饭",
							longitude: 23.634798868008723,
							lalitude: 113.67929220199585,
							phone: 233333333
						},
						{
							name: "东饭",
							longitude: 23.634223876693003,
							lalitude: 113.68221044540405,
							phone: 233333333
						}

					]
				},
				{
					type: "其它",
					index: 4,
					detail: [{
							name: "7-11",
							longitude: 23.631393111923977,
							lalitude: 113.67613792419434,
							phone: 233333333
						},
						{
							name: "后门超市",
							longitude: 23.628414845431454,
							lalitude: 113.67830514907837,
							phone: 123456789
						},
						{
							name: "南芳湖",
							longitude: 23.629024265208912,
							lalitude: 113.67936730384827,
							phone: 233333333
						},
						{
							name: "音乐楼",
							longitude: 23.6353541996942,
							lalitude: 113.67875039561113,
							phone: 233333333
						},
						{
							name: "专家楼",
							longitude: 23.630906568066354,
							lalitude: 113.6753761768341,
							phone: 233333333
						}
					]
				}

			]
		}

		
		
		let tableData2 = {
			status: 200,
			msg: "success",
			data: [{
					type: "教学楼",
					index: 0,
					detail: [{
							name: "1教",
							longitude: 23.631771533674556,
							lalitude: 113.67667973041534,
							phone: 000000
						},
						{
							name: "2教",
							longitude: 23.631314478695728,
							lalitude: 113.67692112922668,
							phone: 000000
						},
						{
							name: "3教",
							longitude: 23.630940970179182,
							lalitude: 113.6770498752594,
							phone: 000000
						},
						{
							name: "4教",
							longitude: 23.63058711909593,
							lalitude: 113.67732882499695,
							phone: 000000
						},
						{
							name: "5教",
							longitude: 23.634096100285504,
							lalitude: 113.6781495809555,
							phone: 000000
						},
						{
							name: "6教",
							longitude: 23.63378157365691,
							lalitude: 113.67839634402117,
							phone: 000000
						},
						{
							name: "7教",
							longitude: 23.633393328640253,
							lalitude: 113.67858409881592,
							phone: 000000
						},
						{
							name: "8教",
							longitude: 23.63433199466739,
							lalitude: 113.67978572845459,
							phone: 000000
						},
						{
							name: "9教",
							longitude: 23.63392900791833,
							lalitude: 113.67992520332336,
							phone: 000000
						},
						{
							name: "10教",
							longitude: 23.6334965329542,
							lalitude: 113.6800217628479,
							phone: 000000
						},
						{
							name: "11教",
							longitude: 23.63313286001958,
							lalitude: 113.67997884754459,
							phone: 000000
						}
					]
				},
			]
		}

		function clearOverlays(overlays) {
			var overlay;
			while(overlay = overlays.pop()) {
				overlay.setMap(null);
			}
		}

		//初始化搜索list
		function initList() {
			var header = document.querySelector('header.mui-bar');
			var list = document.getElementById('list');
			//calc hieght
			list.style.height = (document.body.offsetHeight - header.offsetHeight) + 'px';
			//list.style.minHeight = '300px';
			//console.log(document.body.offsetHeight - header.offsetHeight)
			//create
			window.indexedList = new mui.IndexedList(list);
		}

		//隐藏索引列表，显示地图
		function hiddenSearchList() {
			document.getElementById('searchTipBox').classList.add('mui-hidden');
			document.getElementById('list').classList.add('list-container');
			document.getElementById('map-container').classList.remove('mui-hidden');
		}

		function hiddenMap() {
			document.getElementById('searchTipBox').classList.remove('mui-hidden');
			document.getElementById('list').classList.remove('list-container');
			document.getElementById('map-container').classList.add('mui-hidden');
		}

		function getSearchTipMsg(keyword) {

			let url = "https://apis.map.qq.com/ws/place/v1/suggestion/?region=广州&keyword=中山大学南方学院&key=BQJBZ-TIYCG-UUNQY-IQWQU-OWBHS-YBFCI";

			mui.getJSON(url, function(response) {
				let items = response.data;
				//console.log(items)
				let length = items.length > 20 ? 20 : items.length;
				let resHtml = "";
				for(let i = 0; i < length; i++) {
					resHtml = resHtml + `
						<li data-id = ${items[i].id} data-val=${items[i].title} data-lat=${items[i].location.lat} data-lng=${items[i].location.lng} class="mui-table-view-cell mui-indexed-list-item item-list">${items[i].title}</li>
					`
				}
				document.getElementById('search-tip-list').innerHTML = resHtml;

			});

		}

		// 搜索事件,获取搜索关键词
		function enterSearch(event) {
			console.log("enters")
			initList();
			let val = mui('#searchMap')[0].value;
			console.log(val)
			if((event.key === "Tab" && val === "") || val === "") {
				hiddenSearchList();
			} else {
				hiddenMap();
				getSearchTipMsg(val);
			}

			if(event.keyCode == 13) { //用户点击回车的事件为13
				hiddenSearchList();
				//clearOverlays(markers);
				//searchService.search(val);
				document.activeElement.blur(); //收起虚拟键盘
				event.preventDefault();
				mui.toast("请点击建议热门搜索")
			}

		}

		let mapContainer = document.getElementById("map-container")
		qq.maps.event.addDomListener(mapContainer, 'mousemove', function(event) {
			document.activeElement.blur(); //收起虚拟键盘
			event.preventDefault();
		});

		//搜索框清楚按钮
		mui("body").on("tap", ".mui-icon-clear", function() {
			console.log("333") //执行两遍
			hiddenSearchList();
			document.activeElement.blur(); //收起虚拟键盘
			event.preventDefault();
			//closeInfo(placeTypeInfo);
			placeTypeInfo.close();

		})

		//点击索引列表触发的事件
		mui(".search-table-list").on("tap", "li", function() {
			let listVal = this.getAttribute('data-val'); //获取其它属性值  
			mui('#searchMap')[0].value = listVal;
			let params = {
				lalitude: this.getAttribute('data-lng'),
				longitude: this.getAttribute('data-lat'),
				title: listVal,
				phone: 15975631649
			}
			onloadPlaceTypeDetailMap(params)
			//showSearchMap(params);
			hiddenSearchList();
			document.activeElement.blur(); //收起虚拟键盘
		
		})
		
		
	 	
	</script>

</html>